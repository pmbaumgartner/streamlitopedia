<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">

<head>
    <!-- Book generated using mdBook -->
    <meta charset="UTF-8">
    <title>Streamlitpedia</title>
    
    <meta name="robots" content="noindex" />
    

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#ffffff" />

    <link rel="shortcut icon" href="favicon.png">
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/general.css">
    <link rel="stylesheet" href="css/chrome.css">
    <link rel="stylesheet" href="css/print.css" media="print">

    <!-- Fonts -->
    <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
    <link
        href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"
        rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=IBM+Plex+Mono:500" rel="stylesheet" type="text/css">

    <!-- Highlight.js Stylesheets -->
    <link rel="stylesheet" href="highlight.css">
    <link rel="stylesheet" href="tomorrow-night.css">
    <link rel="stylesheet" href="ayu-highlight.css">

    <!-- Custom theme stylesheets -->
    

    
</head>

<body>
    <!-- Provide site root to javascript -->
    <script type="text/javascript">
        var path_to_root = "";
        var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "light" : "light";
    </script>

    <!-- Work around some values being stored in localStorage wrapped in quotes -->
    <script type="text/javascript">
        try {
            var theme = localStorage.getItem('mdbook-theme');
            var sidebar = localStorage.getItem('mdbook-sidebar');

            if (theme.startsWith('"') && theme.endsWith('"')) {
                localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
            }

            if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
            }
        } catch (e) { }
    </script>

    <!-- Set the theme before any content is loaded, prevents flash -->
    <script type="text/javascript">
        var theme;
        try { theme = localStorage.getItem('mdbook-theme'); } catch (e) { }
        if (theme === null || theme === undefined) { theme = default_theme; }
        var html = document.querySelector('html');
        html.classList.remove('no-js')
        html.classList.remove('light')
        html.classList.add(theme);
        html.classList.add('js');
    </script>

    <!-- Hide / unhide sidebar before it is displayed -->
    <script type="text/javascript">
        var html = document.querySelector('html');
        var sidebar = 'hidden';
        if (document.body.clientWidth >= 1080) {
            try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch (e) { }
            sidebar = sidebar || 'visible';
        }
        html.classList.remove('sidebar-visible');
        html.classList.add("sidebar-" + sidebar);
    </script>

    <nav id="sidebar" class="sidebar" aria-label="Table of contents">
        <div id="sidebar-scrollbox" class="sidebar-scrollbox">
            <ol class="chapter"><li class="expanded affix "><a href="front/introduction.html">Introduction</a></li><li class="expanded "><a href="streamlit-theme.html"><strong aria-hidden="true">1.</strong> Design</a></li><li><ol class="section"><li class="expanded "><a href="essentials.html"><strong aria-hidden="true">1.1.</strong> Theme Essentials</a></li><li class="expanded "><a href="theming-altair.html"><strong aria-hidden="true">1.2.</strong> Theming Altair</a></li><li class="expanded "><a href="sizing-and-images.html"><strong aria-hidden="true">1.3.</strong> Images</a></li></ol></li><li class="expanded "><a href="display-clean-variable-names.html"><strong aria-hidden="true">2.</strong> General</a></li><li><ol class="section"><li class="expanded "><a href="display-clean-variable-names.html"><strong aria-hidden="true">2.1.</strong> Display Clean Variable Names</a></li><li class="expanded "><a href="use-caching.html"><strong aria-hidden="true">2.2.</strong> Use Caching (and Benchmark It)</a></li><li class="expanded "><a href="create-dynamic-widgets.html"><strong aria-hidden="true">2.3.</strong> Create Dynamic Widgets</a></li><li class="expanded "><a href="f-strings-and-markdown.html"><strong aria-hidden="true">2.4.</strong> f-strings and Markdown</a></li><li class="expanded "><a href="altair-for-visualizations.html"><strong aria-hidden="true">2.5.</strong> Altair for Visualizations</a></li><li class="expanded "><a href="refactoring-and-writing-modular-code.html"><strong aria-hidden="true">2.6.</strong> Refactoring &amp; Writing Modular Code</a></li></ol></li><li class="expanded "><a href="back/example-apps.html">Example Apps</a></li><li class="expanded affix "><a href="back/appendix.html">Appendix</a></li></ol>
        </div>
        <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
    </nav>

    <div id="page-wrapper" class="page-wrapper">

        <div class="page">
            
            <div id="menu-bar" class="menu-bar">
                <div id="menu-bar-sticky-container">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents"
                            aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme"
                            aria-label="Change theme" aria-haspopup="true" aria-expanded="false"
                            aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme"
                                    id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme"
                                    id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme"
                                    id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme"
                                    id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme"
                                    id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)"
                            aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S"
                            aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">Streamlitpedia</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                    </div>
                </div>
            </div>

            
            <div id="search-wrapper" class="hidden">
                <form id="searchbar-outer" class="searchbar-outer">
                    <input type="search" name="search" id="searchbar" name="searchbar"
                        placeholder="Search this book ..." aria-controls="searchresults-outer"
                        aria-describedby="searchresults-header">
                </form>
                <div id="searchresults-outer" class="searchresults-outer hidden">
                    <div id="searchresults-header" class="searchresults-header"></div>
                    <ul id="searchresults">
                    </ul>
                </div>
            </div>
            

            <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
            <script type="text/javascript">
                document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                Array.from(document.querySelectorAll('#sidebar a')).forEach(function (link) {
                    link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                });
            </script>

            <div id="content" class="content">
                <main>
                    <h1><a class="header" href="#introduction" id="introduction">Introduction</a></h1>
<h1><a class="header" href="#the-streamlit-theme" id="the-streamlit-theme">The Streamlit Theme</a></h1>
<h1><a class="header" href="#theme-essentials" id="theme-essentials">Theme Essentials</a></h1>
<ul>
<li><a href="essentials.html#theme-essentials">Theme Essentials</a>
<ul>
<li><a href="essentials.html#main-colors">Main Colors</a></li>
<li><a href="essentials.html#other-secondary-colors">Other Secondary Colors</a></li>
<li><a href="essentials.html#fonts">Fonts</a></li>
<li><a href="essentials.html#details">Details</a>
<ul>
<li><a href="essentials.html#scss-variables">SCSS Variables</a></li>
<li><a href="essentials.html#bootstrap">Bootstrap</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2><a class="header" href="#main-colors" id="main-colors">Main Colors</a></h2>
<p>These colors are used throughout streamlit applications as of Feb 2, 2020.</p>
<table><thead><tr><th>Name</th><th>Hex</th><th>Use</th></tr></thead><tbody>
<tr><td>Primary</td><td><code>#f63366</code></td><td>Primary pink/magenta used for widgets throughout the app</td></tr>
<tr><td>Secondary</td><td><code>#f0f2f6</code></td><td>Background color of Sidebar</td></tr>
<tr><td>Black</td><td><code>#262730</code></td><td>Font Color</td></tr>
<tr><td>Yellow (Light)</td><td><code>#fffd80</code></td><td>Right side of top header decoration in app</td></tr>
<tr><td>White</td><td><code>#ffffff</code></td><td>Background</td></tr>
</tbody></table>
<br>
<details>
<summary>View Colors</summary>
<p><a href="https://coolors.co/f63366-f0f2f6-262730-fffd80-ffffff"><img src="./images/streamlit-primary.png" alt="Streamlit Color Palette" /></a></p>
</details>
<h2><a class="header" href="#other-secondary-colors" id="other-secondary-colors">Other Secondary Colors</a></h2>
<p>These are defined in the <code>variables.scss</code> file <a href="essentials.html#details">described below</a>, but are not heavily used within the streamlit applications.</p>
<table><thead><tr><th>Name</th><th>Hex</th></tr></thead><tbody>
<tr><td>Red</td><td><code>#ff2b2b</code></td></tr>
<tr><td>Yellow</td><td><code>#faca2b</code></td></tr>
<tr><td>Blue</td><td><code>#0068c9</code></td></tr>
<tr><td>Green</td><td><code>#09ab3b</code></td></tr>
</tbody></table>
<br>
<details>
<summary>View Colors</summary>
<p><a href="https://coolors.co/f63366-faca2b-0068c9-ff2b2b-09ab3b"><img src="./images/streamlit-secondary.png" alt="Streamlit Secondary Palette" /></a></p>
</details>
<h2><a class="header" href="#fonts" id="fonts">Fonts</a></h2>
<p>Streamlit's default fonts are from the <a href="https://fonts.google.com/featured/Plex?selection.family=IBM+Plex+Sans:700"><code>IBM Plex Collection</code></a></p>
<p>Text, including headers and markdown, is in <a href="https://fonts.google.com/specimen/IBM+Plex+Sans"><code>IBM Plex Sans</code></a>.</p>
<p>Code and data use <a href="https://fonts.google.com/specimen/IBM+Plex+Mono"><code>IBM Plex Mono</code></a> as the monospace font. This is used in markdown <code>code</code> blocks, the use of <code>st.echo()</code>, widget labels, <code>st.json()</code>, and rendered dataframes via <code>st.dataframe</code> and <code>st.table</code>.</p>
<h2><a class="header" href="#details" id="details">Details</a></h2>
<h3><a class="header" href="#scss-variables" id="scss-variables">SCSS Variables</a></h3>
<p>The essential aspects of streamlit's theme can be found in the <a href="https://github.com/streamlit/streamlit/blob/develop/frontend/src/assets/css/variables.scss"><code>variables.scss</code></a> file in the frontend assets folder in the streamlit repository.</p>
<p>The essentials of the file are below (it's been slightly edited from the original file to remove extra information).</p>
<pre><code class="language-scss">$gray-200: #f0f2f6;
$gray-600: #a3a8b4;
$gray-900: #262730;
$black: $gray-900;
$red: #ff2b2b;
$yellow: #faca2b;
$blue: #0068c9;
$green: #09ab3b;

$gray-lightest: $gray-200;
$yellow-light: #fffd80;

$primary: #f63366;
$secondary: $gray;

$font-family-sans-serif: &quot;IBM Plex Sans&quot;, sans-serif;
$font-family-monospace: &quot;IBM Plex Mono&quot;, monospace;

</code></pre>
<h3><a class="header" href="#bootstrap" id="bootstrap">Bootstrap</a></h3>
<p>Streamlit uses the <a href="https://getbootstrap.com/docs/4.0/getting-started/introduction/">Bootstrap</a> framework behind the scenes. This means you can use bootstrap helper classes, for example <a href="https://getbootstrap.com/docs/4.0/content/images/"><code>img-fluid</code></a>, if you're writing HTML within Markdown.</p>
<h1><a class="header" href="#theming-altair" id="theming-altair">Theming Altair</a></h1>
<ul>
<li><a href="theming-altair.html#theming-altair">Theming Altair</a>
<ul>
<li><a href="theming-altair.html#summary">Summary</a></li>
<li><a href="theming-altair.html#streamlit-altair-theme">Streamlit Altair Theme</a>
<ul>
<li><a href="theming-altair.html#example">Example</a></li>
<li><a href="theming-altair.html#theme-code">Theme Code</a>
<ul>
<li><a href="theming-altair.html#applying-the-theme">Applying the Theme</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="theming-altair.html#alternative-theme">Alternative Theme</a>
<ul>
<li><a href="theming-altair.html#example-1">Example</a></li>
<li><a href="theming-altair.html#theme-code-1">Theme Code</a></li>
</ul>
</li>
<li><a href="theming-altair.html#large-categorical-color-palette">Large Categorical Color Palette</a></li>
</ul>
</li>
</ul>
<h2><a class="header" href="#summary" id="summary">Summary</a></h2>
<p>If you use Altair for visualizations, you can <a href="https://altair-viz.github.io/user_guide/configuration.html#defining-a-custom-theme">define a custom theme</a> to adjust the look of your visualization to match streamlit's theme.</p>
<h2><a class="header" href="#streamlit-altair-theme" id="streamlit-altair-theme">Streamlit Altair Theme</a></h2>
<p>The python code below will apply a theme to your Altair visualizations that by default should match streamlit's theme settings. The default single color scale uses gradation of the primary color and was built with the <a href="https://gka.github.io/palettes/#/9%7Cs%7Cf63366%7C1f77b4%7C1%7C1">Chroma.js Color Palette Helper</a>. The <a href="https://gka.github.io/palettes/#/9%7Cd%7Cf63366%7C1f77b4%7C1%7C1">divergent scale</a> uses the primary color and the blue from the <a href="./essentials.html#other-secondary-colors">secondary colors</a>. The categorical palette is a <a href="https://coolors.co/f63366-fffd80-0068c9-ff2b2b-09ab3b">5-color palette</a> with the primary color, light-yellow secondary color, and remaining colors from the secondary palette. </p>
<p>The theme also adjusts the font to <code>IBM Plex Mono</code> to match data in dataframes and tables. It also adjusts the font sizes so that labels match the size of table elements and the chart title is the same size as an <code>&lt;h3&gt;</code> (header 3) element.</p>
<h3><a class="header" href="#example" id="example">Example</a></h3>
<p><img src="./images/altair-streamlit-theme1-example.png" alt="Plot Example" /></p>
<h3><a class="header" href="#theme-code" id="theme-code">Theme Code</a></h3>
<pre><code class="language-python">def streamlit_theme():
    font = &quot;IBM Plex Mono&quot;
    primary_color = &quot;#F63366&quot;
    font_color = &quot;#262730&quot;
    grey_color = &quot;#f0f2f6&quot;
    base_size = 16
    lg_font = base_size * 1.25
    sm_font = base_size * 0.8  # st.table size
    xl_font = base_size * 1.75

    config = {
        &quot;config&quot;: {
            &quot;arc&quot;: {&quot;fill&quot;: primary_color},
            &quot;area&quot;: {&quot;fill&quot;: primary_color},
            &quot;circle&quot;: {&quot;fill&quot;: primary_color, &quot;stroke&quot;: font_color, &quot;strokeWidth&quot;: 0.5},
            &quot;line&quot;: {&quot;stroke&quot;: primary_color},
            &quot;path&quot;: {&quot;stroke&quot;: primary_color},
            &quot;point&quot;: {&quot;stroke&quot;: primary_color},
            &quot;rect&quot;: {&quot;fill&quot;: primary_color},
            &quot;shape&quot;: {&quot;stroke&quot;: primary_color},
            &quot;symbol&quot;: {&quot;fill&quot;: primary_color},
            &quot;title&quot;: {
                &quot;font&quot;: font,
                &quot;color&quot;: font_color,
                &quot;fontSize&quot;: lg_font,
                &quot;anchor&quot;: &quot;start&quot;,
            },
            &quot;axis&quot;: {
                &quot;titleFont&quot;: font,
                &quot;titleColor&quot;: font_color,
                &quot;titleFontSize&quot;: sm_font,
                &quot;labelFont&quot;: font,
                &quot;labelColor&quot;: font_color,
                &quot;labelFontSize&quot;: sm_font,
                &quot;gridColor&quot;: grey_color,
                &quot;domainColor&quot;: font_color,
                &quot;tickColor&quot;: &quot;#fff&quot;,
            },
            &quot;header&quot;: {
                &quot;labelFont&quot;: font,
                &quot;titleFont&quot;: font,
                &quot;labelFontSize&quot;: base_size,
                &quot;titleFontSize&quot;: base_size,
            },
            &quot;legend&quot;: {
                &quot;titleFont&quot;: font,
                &quot;titleColor&quot;: font_color,
                &quot;titleFontSize&quot;: sm_font,
                &quot;labelFont&quot;: font,
                &quot;labelColor&quot;: font_color,
                &quot;labelFontSize&quot;: sm_font,
            },
            &quot;range&quot;: {
                &quot;category&quot;: [&quot;#f63366&quot;, &quot;#fffd80&quot;, &quot;#0068c9&quot;, &quot;#ff2b2b&quot;, &quot;#09ab3b&quot;],
                &quot;diverging&quot;: [
                    &quot;#850018&quot;,
                    &quot;#cd1549&quot;,
                    &quot;#f6618d&quot;,
                    &quot;#fbafc4&quot;,
                    &quot;#f5f5f5&quot;,
                    &quot;#93c5fe&quot;,
                    &quot;#5091e6&quot;,
                    &quot;#1d5ebd&quot;,
                    &quot;#002f84&quot;,
                ],
                &quot;heatmap&quot;: [
                    &quot;#ffb5d4&quot;,
                    &quot;#ff97b8&quot;,
                    &quot;#ff7499&quot;,
                    &quot;#fc4c78&quot;,
                    &quot;#ec245f&quot;,
                    &quot;#d2004b&quot;,
                    &quot;#b10034&quot;,
                    &quot;#91001f&quot;,
                    &quot;#720008&quot;,
                ],
                &quot;ramp&quot;: [
                    &quot;#ffb5d4&quot;,
                    &quot;#ff97b8&quot;,
                    &quot;#ff7499&quot;,
                    &quot;#fc4c78&quot;,
                    &quot;#ec245f&quot;,
                    &quot;#d2004b&quot;,
                    &quot;#b10034&quot;,
                    &quot;#91001f&quot;,
                    &quot;#720008&quot;,
                ],
                &quot;ordinal&quot;: [
                    &quot;#ffb5d4&quot;,
                    &quot;#ff97b8&quot;,
                    &quot;#ff7499&quot;,
                    &quot;#fc4c78&quot;,
                    &quot;#ec245f&quot;,
                    &quot;#d2004b&quot;,
                    &quot;#b10034&quot;,
                    &quot;#91001f&quot;,
                    &quot;#720008&quot;,
                ],
            },
        }
    }
    return config
</code></pre>
<h4><a class="header" href="#applying-the-theme" id="applying-the-theme">Applying the Theme</a></h4>
<p>After you define this function, you'll need to register the theme with Altair wherever you define your plots.</p>
<pre><code class="language-python">alt.themes.register(&quot;streamlit&quot;, streamlit_theme)
alt.themes.enable(&quot;streamlit&quot;)
</code></pre>
<h2><a class="header" href="#alternative-theme" id="alternative-theme">Alternative Theme</a></h2>
<p>This alternative theme is closer to the default theme in <code>ggplot2</code>. It adds a grey background, changes the grid to white, and removes some of the dark plot spine.</p>
<h3><a class="header" href="#example-1" id="example-1">Example</a></h3>
<p><img src="images/altair-streamlit-theme2-example.png" alt="Alternative Theme" /></p>
<h3><a class="header" href="#theme-code-1" id="theme-code-1">Theme Code</a></h3>
<pre><code class="language-python">def streamlit_theme_alt():
    font = &quot;IBM Plex Mono&quot;
    primary_color = &quot;#F63366&quot;
    font_color = &quot;#262730&quot;
    grey_color = &quot;#f0f2f6&quot;
    base_size = 16
    lg_font = base_size * 1.25
    sm_font = base_size * 0.8  # st.table size
    xl_font = base_size * 1.75

    config = {
        &quot;config&quot;: {
            &quot;view&quot;: {&quot;fill&quot;: grey_color},
            &quot;arc&quot;: {&quot;fill&quot;: primary_color},
            &quot;area&quot;: {&quot;fill&quot;: primary_color},
            &quot;circle&quot;: {&quot;fill&quot;: primary_color, &quot;stroke&quot;: font_color, &quot;strokeWidth&quot;: 0.5},
            &quot;line&quot;: {&quot;stroke&quot;: primary_color},
            &quot;path&quot;: {&quot;stroke&quot;: primary_color},
            &quot;point&quot;: {&quot;stroke&quot;: primary_color},
            &quot;rect&quot;: {&quot;fill&quot;: primary_color},
            &quot;shape&quot;: {&quot;stroke&quot;: primary_color},
            &quot;symbol&quot;: {&quot;fill&quot;: primary_color},
            &quot;title&quot;: {
                &quot;font&quot;: font,
                &quot;color&quot;: font_color,
                &quot;fontSize&quot;: lg_font,
                &quot;anchor&quot;: &quot;start&quot;,
            },
            &quot;axis&quot;: {
                &quot;titleFont&quot;: font,
                &quot;titleColor&quot;: font_color,
                &quot;titleFontSize&quot;: sm_font,
                &quot;labelFont&quot;: font,
                &quot;labelColor&quot;: font_color,
                &quot;labelFontSize&quot;: sm_font,
                &quot;grid&quot;: True,
                &quot;gridColor&quot;: &quot;#fff&quot;,
                &quot;gridOpacity&quot;: 1,
                &quot;domain&quot;: False,
                # &quot;domainColor&quot;: font_color,
                &quot;tickColor&quot;: font_color,
            },
            &quot;header&quot;: {
                &quot;labelFont&quot;: font,
                &quot;titleFont&quot;: font,
                &quot;labelFontSize&quot;: base_size,
                &quot;titleFontSize&quot;: base_size,
            },
            &quot;legend&quot;: {
                &quot;titleFont&quot;: font,
                &quot;titleColor&quot;: font_color,
                &quot;titleFontSize&quot;: sm_font,
                &quot;labelFont&quot;: font,
                &quot;labelColor&quot;: font_color,
                &quot;labelFontSize&quot;: sm_font,
            },
            &quot;range&quot;: {
                &quot;category&quot;: [&quot;#f63366&quot;, &quot;#fffd80&quot;, &quot;#0068c9&quot;, &quot;#ff2b2b&quot;, &quot;#09ab3b&quot;],
                &quot;diverging&quot;: [
                    &quot;#850018&quot;,
                    &quot;#cd1549&quot;,
                    &quot;#f6618d&quot;,
                    &quot;#fbafc4&quot;,
                    &quot;#f5f5f5&quot;,
                    &quot;#93c5fe&quot;,
                    &quot;#5091e6&quot;,
                    &quot;#1d5ebd&quot;,
                    &quot;#002f84&quot;,
                ],
                &quot;heatmap&quot;: [
                    &quot;#ffb5d4&quot;,
                    &quot;#ff97b8&quot;,
                    &quot;#ff7499&quot;,
                    &quot;#fc4c78&quot;,
                    &quot;#ec245f&quot;,
                    &quot;#d2004b&quot;,
                    &quot;#b10034&quot;,
                    &quot;#91001f&quot;,
                    &quot;#720008&quot;,
                ],
                &quot;ramp&quot;: [
                    &quot;#ffb5d4&quot;,
                    &quot;#ff97b8&quot;,
                    &quot;#ff7499&quot;,
                    &quot;#fc4c78&quot;,
                    &quot;#ec245f&quot;,
                    &quot;#d2004b&quot;,
                    &quot;#b10034&quot;,
                    &quot;#91001f&quot;,
                    &quot;#720008&quot;,
                ],
                &quot;ordinal&quot;: [
                    &quot;#ffb5d4&quot;,
                    &quot;#ff97b8&quot;,
                    &quot;#ff7499&quot;,
                    &quot;#fc4c78&quot;,
                    &quot;#ec245f&quot;,
                    &quot;#d2004b&quot;,
                    &quot;#b10034&quot;,
                    &quot;#91001f&quot;,
                    &quot;#720008&quot;,
                ],
            },
        }
    }
    return config
</code></pre>
<p>Again, be sure you register the theme after you define it. Note that this function is called <code>streamlit_theme_alt</code>.</p>
<h2><a class="header" href="#large-categorical-color-palette" id="large-categorical-color-palette">Large Categorical Color Palette</a></h2>
<p>The palette below may be helpful if you have more than 5 categories. It was generated by alternating colors on <a href="https://gka.github.io/palettes/#/9%7Cd%7Cfffd80,f63366%7Cf63366,0068c9%7C1%7C1">this divergent scale</a> which uses some of the primary and secondary colors.</p>
<pre><code class="language-python">category_large = [
    &quot;#f63366&quot;,
    &quot;#0068c9&quot;,
    &quot;#fffd80&quot;,
    &quot;#7c61b0&quot;,
    &quot;#ffd37b&quot;,
    &quot;#ae5897&quot;,
    &quot;#ffa774&quot;,
    &quot;#d44a7e&quot;,
    &quot;#fd756d&quot;,
]
</code></pre>
<h1><a class="header" href="#images" id="images">Images</a></h1>
<ul>
<li><a href="sizing-and-images.html#images">Images</a>
<ul>
<li><a href="sizing-and-images.html#summary">Summary</a></li>
<li><a href="sizing-and-images.html#container-sizes">Container Sizes</a>
<ul>
<li><a href="sizing-and-images.html#details">Details</a></li>
</ul>
</li>
<li><a href="sizing-and-images.html#creating-header-images">Creating Header Images</a>
<ul>
<li><a href="sizing-and-images.html#using-figma">Using Figma</a></li>
</ul>
</li>
<li><a href="sizing-and-images.html#displaying-your-image-in-app">Displaying Your Image in App</a></li>
</ul>
</li>
</ul>
<h2><a class="header" href="#summary-1" id="summary-1">Summary</a></h2>
<p>Images can be used to flexibly add header content, additional instructions, brand logos, or other information about your app. I've found it easiest to design images for the default width of the main container and sidebar for an app viewed on desktop. Since I don't need to view these images fullscreen or use the in an interactive way throughout the app, I use a helper function to convert images to bytes and display them as HTML through a <code>st.markdown</code>, rather than using <code>st.image</code>. I'll cover all these steps below.</p>
<h2><a class="header" href="#container-sizes" id="container-sizes">Container Sizes</a></h2>
<p><code>As of Feb 2, 2020.</code></p>
<p>The main container content is <code>698px</code> wide. The sidebar content is <code>304px</code> wide.</p>
<h3><a class="header" href="#details-1" id="details-1">Details</a></h3>
<p>Images detailing how these numbers were determined are expandable below.</p>
<br>
<details>
<summary>View Main Content Width Determination</summary>
<p><a href="./images/main-width.png"><img src="./images/main-width.png" alt="Main Content Width" /></a></p>
</details>
<br>
<details>
<summary>View Sidebar Width Determination</summary>
<p><a href="./images/sidebar-width.png"><img src="./images/sidebar-width.png" alt="Sidebar Content Width" /></a></p>
</details>
<h2><a class="header" href="#creating-header-images" id="creating-header-images">Creating Header Images</a></h2>
<p>One simple use case for images is rich header images for your applications. An image allows you to display rich information about your brand. </p>
<p>If you want to match the other content in your application, use the information from the <a href="./essentials.html">Theme Essentials</a>. You can download <a href="https://fonts.google.com/specimen/IBM+Plex+Sans"><code>IBM Plex Sans</code></a> and <a href="https://fonts.google.com/specimen/IBM+Plex+Mono"><code>IBM Plex Mono</code></a> from Google Fonts for local use.</p>
<p>The most staightforward way I've found to create header images, especially if they're mostly text, is to use <a href="https://www.figma.com/">Figma</a>. Figma is a tool typically used for designing interfaces, but I typically use it for more lightweight design tasks like creating simple image assets. As a plus, Figma is really easy to learn and has a relatively simple interface.</p>
<h3><a class="header" href="#using-figma" id="using-figma">Using Figma</a></h3>
<p><a href="./images/figma-example.png"><img src="./images/figma-example.png" alt="Figma Example" /></a></p>
<ol>
<li>First, use the Frame tool to create a frame. This is a container for your image. Create the frame so it has a width of the streamlit container where it will be placed. You can adjust the height so it makes sense for your content.</li>
<li>Design to your heart's content. Start simple by using IBM Plex Sans as your font and the standard streamlit colors. Some simple elements to play around with are character spacing, all caps, and gradient scaling your text.</li>
<li>Once you're finished, select your Frame then use the Export menu in the lower right to export your image to your streamlit app directory.</li>
</ol>
<h2><a class="header" href="#displaying-your-image-in-app" id="displaying-your-image-in-app">Displaying Your Image in App</a></h2>
<p>Since I don't need any interaction with the image, I display the HTML through <code>st.markdown</code> rather than <code>st.image</code>. </p>
<p>We'll convert the image to bytes so that it can be displayed using an <code>&lt;img&gt;</code> HTML element. The helper function below takes the path to the image (from your <code>app.py</code>) and converts it to bytes.</p>
<pre><code class="language-python">def img_to_bytes(img_path):
    img_bytes = Path(img_path).read_bytes()
    encoded = base64.b64encode(img_bytes).decode()
    return encoded
</code></pre>
<p>From there, you can use the image in your app as follows:</p>
<pre><code class="language-python">header_html = &quot;&lt;img src='data:image/png;base64,{}' class='img-fluid'&gt;&quot;.format(
    img_to_bytes(&quot;header.png&quot;)
)
st.markdown(
    header_html, unsafe_allow_html=True,
)
</code></pre>
<p>Streamlit uses bootstrap, so we can take advantage of the <code>img-fluid</code> class to make sure that the image is responsive as the app is resized. </p>
<h1><a class="header" href="#display-clean-variable-names" id="display-clean-variable-names">Display Clean Variable Names</a></h1>
<p>The variable names in a DataFrame might be snake cased or formatted in a way not appropriate for end users, e.g. <code>pointless_metric_my_boss_requested_and_i_reluctantly_included</code>. Most of the streamlit widgets contain a <code>format_func</code> parameter which takes function that applies formatting for display to the option values you provide the widget. As a simple example, you could title case each of the variable names.</p>
<p>You can also use this functionality, combined with a dictionary, to explicitly handle the formatting of your values. The example below cleans up the column names from the birdstrikes dataset for use as a dropdown to describe each column.</p>
<pre><code class="language-python">import streamlit as st
from vega_datasets import data


@st.cache
def load_data():
    return data.birdstrikes()


cols = {
    &quot;Airport__Name&quot;: &quot;Airport Name&quot;,
    &quot;Aircraft__Make_Model&quot;: &quot;Aircraft Make &amp; Model&quot;,
    &quot;Effect__Amount_of_damage&quot;: &quot;Effect: Amount of Damage&quot;,
    &quot;Flight_Date&quot;: &quot;Flight Date&quot;,
    &quot;Aircraft__Airline_Operator&quot;: &quot;Airline Operator&quot;,
    &quot;Origin_State&quot;: &quot;Origin State&quot;,
    &quot;When__Phase_of_flight&quot;: &quot;When (Phase of Flight)&quot;,
    &quot;Wildlife__Size&quot;: &quot;Wildlife Size&quot;,
    &quot;Wildlife__Species&quot;: &quot;Wildlife Species&quot;,
    &quot;When__Time_of_day&quot;: &quot;When (Time of Day)&quot;,
    &quot;Cost__Other&quot;: &quot;Cost (Other)&quot;,
    &quot;Cost__Repair&quot;: &quot;Cost (Repair)&quot;,
    &quot;Cost__Total_$&quot;: &quot;Cost (Total) ($)&quot;,
    &quot;Speed_IAS_in_knots&quot;: &quot;Speed (in Knots)&quot;,
}

dataset = load_data()

column = st.selectbox(&quot;Describe Column&quot;, list(dataset.columns), format_func=cols.get)

st.write(dataset[column].describe())
</code></pre>
<p><a href="https://gist.github.com/pmbaumgartner/4558781c0dfe8a4539201eaeb575ba51/raw/7dedf6c4064af6586d2f136a35e4d2ac5814031f/format_func_with_dict.py">Link to Gist</a></p>
<h1><a class="header" href="#display-clean-variable-names-1" id="display-clean-variable-names-1">Display Clean Variable Names</a></h1>
<p>The variable names in a DataFrame might be snake cased or formatted in a way not appropriate for end users, e.g. <code>pointless_metric_my_boss_requested_and_i_reluctantly_included</code>. Most of the streamlit widgets contain a <code>format_func</code> parameter which takes function that applies formatting for display to the option values you provide the widget. As a simple example, you could title case each of the variable names.</p>
<p>You can also use this functionality, combined with a dictionary, to explicitly handle the formatting of your values. The example below cleans up the column names from the birdstrikes dataset for use as a dropdown to describe each column.</p>
<pre><code class="language-python">import streamlit as st
from vega_datasets import data


@st.cache
def load_data():
    return data.birdstrikes()


cols = {
    &quot;Airport__Name&quot;: &quot;Airport Name&quot;,
    &quot;Aircraft__Make_Model&quot;: &quot;Aircraft Make &amp; Model&quot;,
    &quot;Effect__Amount_of_damage&quot;: &quot;Effect: Amount of Damage&quot;,
    &quot;Flight_Date&quot;: &quot;Flight Date&quot;,
    &quot;Aircraft__Airline_Operator&quot;: &quot;Airline Operator&quot;,
    &quot;Origin_State&quot;: &quot;Origin State&quot;,
    &quot;When__Phase_of_flight&quot;: &quot;When (Phase of Flight)&quot;,
    &quot;Wildlife__Size&quot;: &quot;Wildlife Size&quot;,
    &quot;Wildlife__Species&quot;: &quot;Wildlife Species&quot;,
    &quot;When__Time_of_day&quot;: &quot;When (Time of Day)&quot;,
    &quot;Cost__Other&quot;: &quot;Cost (Other)&quot;,
    &quot;Cost__Repair&quot;: &quot;Cost (Repair)&quot;,
    &quot;Cost__Total_$&quot;: &quot;Cost (Total) ($)&quot;,
    &quot;Speed_IAS_in_knots&quot;: &quot;Speed (in Knots)&quot;,
}

dataset = load_data()

column = st.selectbox(&quot;Describe Column&quot;, list(dataset.columns), format_func=cols.get)

st.write(dataset[column].describe())
</code></pre>
<p><a href="https://gist.github.com/pmbaumgartner/4558781c0dfe8a4539201eaeb575ba51/raw/7dedf6c4064af6586d2f136a35e4d2ac5814031f/format_func_with_dict.py">Link to Gist</a></p>
<h1><a class="header" href="#use-caching-and-benchmark-it" id="use-caching-and-benchmark-it">Use Caching (and Benchmark It)</a></h1>
<p>It can be tempting to throw that handy <code>@st.cache</code> decorator on everything and hope for the best. However, mindlessly applying caching means that we're missing a great opportunity to get meta and use streamlit to understand where caching helps the most.</p>
<p>Rather than decorating every function, create two versions of each function: one with the decorator and one without. Then do some basic benchmarking of how long it takes to execute both the cached and uncached versions of that function.</p>
<p>In the example below, we simulate loading a large dataset by concatenating 100 copies of the <code>airports</code> dataset, then dynamically selecting the first n rows and describing them.</p>
<pre><code class="language-python">import streamlit as st
from vega_datasets import data
from time import time
import pandas as pd


@st.cache
def load_data():
    return pd.concat((data.airports() for _ in range(100)))


@st.cache
def select_rows(dataset, nrows):
    return dataset.head(nrows)


@st.cache
def describe(dataset):
    return dataset.describe()


rows = st.slider(&quot;Rows&quot;, min_value=100, max_value=3300 * 100, step=10000)

start_uncached = time()
dataset_uncached = pd.concat((data.airports() for _ in range(100)))
load_uncached = time()
dataset_sample_uncached = dataset_uncached.head(rows)
select_uncached = time()
describe_uncached_dataset = dataset_sample_uncached.describe()
finish_uncached = time()
benchmark_uncached = (
    f&quot;Cached. Total: {finish_uncached - start_uncached:.2f}s&quot;
    f&quot; Load: {load_uncached - start_uncached:.2f}&quot;
    f&quot; Select: {select_uncached - load_uncached:.2f}&quot;
    f&quot; Describe: {finish_uncached - select_uncached:.2f}&quot;
)

st.text(benchmark_uncached)
st.write(describe_uncached_dataset)

start_cached = time()
dataset_cached = load_data()
load_cached = time()
dataset_sample_cached = select_rows(dataset_cached, rows)
select_cached = time()
describe_cached_dataset = describe(dataset_sample_cached)
finish_cached = time()

benchmark_cached = (
    f&quot;Cached. Total: {finish_cached - start_cached:.2f}s&quot;
    f&quot; Load: {load_cached - start_cached:.2f}&quot;
    f&quot; Select: {select_cached - load_cached:.2f}&quot;
    f&quot; Describe: {finish_cached - select_cached:.2f}&quot;
)
st.text(benchmark_cached)
st.write(describe_cached_dataset)
</code></pre>
<p><a href="https://gist.github.com/pmbaumgartner/8097c08313cea57f02c54f23d4836621/raw/e5f89d6ade3aca306b38a3814ef550afa4992a80/cache_benchmarking.py">Link to Gist</a></p>
<p>Since each step (data load, select rows, describe selection) of this is timed, we can see where caching provides a speedup. From my experience with this example, my heuristics for caching are:</p>
<ul>
<li>Always cache loading the dataset</li>
<li>Probably cache functions that take longer than a half second</li>
<li>Benchmark everything else</li>
</ul>
<p>I think caching is one of streamlit‚Äôs killer features and I know they‚Äôre focusing on it and improving it. Caching intelligently is also complex problem, so it‚Äôs a good idea to lean more towards benchmarking and validating that the caching functionality is acting as expected.</p>
<h1><a class="header" href="#create-dynamic-widgets" id="create-dynamic-widgets">Create Dynamic Widgets</a></h1>
<p>Many examples focus on creating dynamic visualizations, but don‚Äôt forget you can also program dynamic widgets. The simplest example of this need is when two columns in a dataset have a nested relationship and there are two widgets to select values from those two columns. When building an app to filter data, the the dropdown for the first column should change the options available in the second dropdown.</p>
<p>Linking behavior of two dropdowns is a common use case. The example below builds a scatterplot with the <code>cars</code> dataset. We need a dynamic dropdown here because the variable we select for the x-axis doesn't need to be available for selection in the y-axis.</p>
<p>We can also go beyond this basic dynamic functionality: what if we sorted the available y-axis options by their correlation with the selected x variable? We can calculate the correlations and combining this with the widget‚Äôs <code>format_func</code> to display variables and their correlations in sorted order.</p>
<pre><code class="language-python">import altair as alt
import streamlit as st
from vega_datasets import data

cars = data.cars()

quantitative_variables = [
    &quot;Miles_per_Gallon&quot;,
    &quot;Cylinders&quot;,
    &quot;Displacement&quot;,
    &quot;Horsepower&quot;,
    &quot;Weight_in_lbs&quot;,
    &quot;Acceleration&quot;,
]


@st.cache
def get_y_vars(dataset, x, variables):
    corrs = dataset.corr()[x]
    remaining_variables = [v for v in variables if v != x]
    sorted_remaining_variables = sorted(
        remaining_variables, key=lambda v: corrs[v], reverse=True
    )
    format_dict = {v: f&quot;{v} ({corrs[v]:.2f})&quot; for v in sorted_remaining_variables}
    return sorted_remaining_variables, format_dict


st.header(&quot;Cars Dataset - Correlation Dynamic Dropdown&quot;)
x = st.selectbox(&quot;x&quot;, quantitative_variables)
y_options, y_formats = get_y_vars(cars, x, quantitative_variables)
y = st.selectbox(
    f&quot;y (sorted by correlation with {x})&quot;, y_options, format_func=y_formats.get
)

plot = alt.Chart(cars).mark_circle().encode(x=x, y=y)

st.altair_chart(plot)
</code></pre>
<p><a href="https://gist.github.com/pmbaumgartner/23d919cb7badd3ce4f2807af68897a75/raw/72b71923cb4db876b64fbd6283f2380d4cce1020/dynamic_widget.py">Link to Gist</a></p>
<h1><a class="header" href="#f-strings-and-markdown" id="f-strings-and-markdown">f-strings and Markdown</a></h1>
<p>In building an interface around an analysis, much of it requires creating or manipulating strings in variable names, widget values, axis labels, widget labels, or narrative description.</p>
<p>If we want to display some analysis in narrative form and there‚Äôs a few particular variables we want to highlight, <a href="https://realpython.com/python-f-strings/">f-strings</a> and markdown can help us out. Beyond an easy way to fill strings with specific variable values, it‚Äôs also an easy way to format them inline. For example, we might use something like this to display basic info about a column in a dataset and highlight them in a markdown string.</p>
<pre><code class="language-python">mean = df[&quot;values&quot;].mean()
n_rows = len(df)

md_results = f&quot;The mean is **{mean:.2f}** and there are **{n_rows:,}**.&quot;

st.markdown(md_results)
</code></pre>
<p>We‚Äôve used two formats here: <code>.2f</code> to round a float to two decimal places and <code>,</code> to use a comma as a thousands separator. We've also used markdown syntax to bold the values so that they're visually prominent in the text.</p>
<h1><a class="header" href="#altair-for-visualizations" id="altair-for-visualizations">Altair for Visualizations</a></h1>
<p>If you‚Äôve been prototyping visualizations with another library, consider switching to Altair to build your visualizations. In my experience, I think there are three key reasons a switch could be beneficial:</p>
<ol>
<li>Altair is probably faster (unless we‚Äôre plotting a lot of data)</li>
<li>It operates directly on pandas DataFrames</li>
<li>Interactive visualizations are easy to create</li>
</ol>
<p>On the first point about speed, we can see a drastic speedup if we prototyped using matplotlib. Most of that speedup is just the fact that it takes more time to render a static image and place it in the app compared to rendering a javascript visualization. This is demonstrated in the example app below, which generates a scatterplot for some generated data and outputs the timing for the creation and rendering for each part of the visualization.</p>
<pre><code class="language-python">from time import time

import altair as alt
import matplotlib.pyplot as plt
import numpy as np
import pandas as pd
import streamlit as st


def mpl_scatter(dataset, x, y):
    fig, ax = plt.subplots()
    dataset.plot.scatter(x=x, y=y, alpha=0.8, ax=ax)
    return fig


def altair_scatter(dataset, x, y):
    plot = (
        alt.Chart(dataset, height=400, width=400)
        .mark_point(filled=True, opacity=0.8)
        .encode(x=x, y=y)
    )
    return plot


size = st.slider(&quot;Size&quot;, min_value=1000, max_value=100_000, step=10_000)
dataset = pd.DataFrame(
    {&quot;x&quot;: np.random.normal(size=size), &quot;y&quot;: np.random.normal(size=size)}
)

mpl_start = time()
mpl_plot = mpl_scatter(dataset, &quot;x&quot;, &quot;y&quot;)
mpl_finish = time()

st.pyplot(mpl_plot)
mpl_render = time()
st.subheader(&quot;Matplotlib&quot;)
st.write(f&quot;Create: {mpl_finish - mpl_start:.3f}s&quot;)
st.write(f&quot;Render: {mpl_render - mpl_finish:.3f}s&quot;)
st.write(f&quot;Total: {mpl_render - mpl_start:.3f}s&quot;)

alt_start = time()
alt_plot = altair_scatter(dataset, &quot;x&quot;, &quot;y&quot;)
alt_finish = time()

st.altair_chart(alt_plot)
alt_render = time()
st.subheader(&quot;Altair&quot;)
st.write(f&quot;Create: {alt_finish - alt_start:.3f}s&quot;)
st.write(f&quot;Render: {alt_render - alt_finish:.3f}s&quot;)
st.write(f&quot;Total: {alt_render - alt_start:.3f}s&quot;)

speedup = (mpl_render - mpl_start) / (alt_render - alt_start)
st.write(f&quot;MPL / Altair Ratio: {speedup:.1f}x&quot;)
</code></pre>
<p><a href="https://gist.github.com/pmbaumgartner/e8cf0cbdf85817aa24d51c8a8e008d7d/raw/3357054a0caaa1f4bf27277c6aaab34e0d0e747d/mpl_altair_streamlit_timing.py">Link to Gist</a></p>
<p>Working directly with DataFrames provides another benefit. It can ease the debugging process: if there‚Äôs an issue with the input data, we can use <code>st.write(df)</code> to display the DataFrame in a streamlit app and inspect it. This makes the feedback loop for debugging data issues much shorter. The second benefit is that it reduces the amount of transformational glue code sometimes required to create specific visualizations. For basic plots, we could use a DataFrame's plotting methods, but more complex visualizations might require us to restructure our dataset in a way that makes sense with the visualization API. This additional code between the dataset and visualization can be the source of additional complexity and can be a pain point as the app grows. Since Altair uses the Vega-Lite visualization grammar, the functions available in the <a href="https://vega.github.io/vega-lite/docs/transform.html">transforms API</a> can be used to make any visualization appropriate transformations.</p>
<p>Finally, interactive visualizations with Altair are easy. While an app might start by using streamlit widgets to filter and select data, an app could also use a visualization could as the selection mechanism. Rather than communicating information as a string in a widget or narrative, (interactive visualizations)[https://altair-viz.github.io/gallery/index.html#interactive-charts] allow visual communication of aspects of the data within a visualization.</p>
<h1><a class="header" href="#refactoring--writing-modular-code" id="refactoring--writing-modular-code">Refactoring &amp; Writing Modular Code</a></h1>
<p>It‚Äôs easy to spend a few hours with streamlit and have a 500 line <code>app.py</code> file that nobody but you understands. If you're handing off your code, deploying your app, or adding a some new functionality it's now possible that you'll be spending a significant amount of time trying to remember how your code works because you've neglected good code hygiene.</p>
<p>If an app is beyond 100 lines of code, it can probably benefit from a refactor. A good first step is to create functions from the code and put those functions in a separate <code>helpers.py</code> file. This also makes it easier to test and benchmark caching on these functions.</p>
<p>There‚Äôs no specific right way on how exactly to refactor code, but I‚Äôve developed an exercise that can help when starting an app refactor.</p>
<p><strong>Refactoring Exercise</strong></p>
<p>In the <code>app.py</code>, try to:</p>
<ul>
<li>only import streamlit and helper functions (don‚Äôt forget to <a href="./use-caching.html">benchmark</a> <code>@st.cache</code> on these helper functions)</li>
<li>never create a variable that isn‚Äôt input into a streamlit object, i.e. visualization or widget, in the next line of code (with the exception of the data loading function)</li>
</ul>
<p>These aren‚Äôt hard and fast rules to always abide by: you could follow them specifically and have a poorly organized app because you‚Äôve got large, complex functions that do too much. However, they are good objectives to start with when moving from everything in app.py to a more modular structure.
The example below highlights an app before and after going through this exercise.</p>
<p><strong>‚õîÔ∏è BAD EXAMPLE: PRE-REFACTOR</strong></p>
<pre><code class="language-python"># app.py
import streamlit as st
import pandas as pd

data = pd.read_csv(&quot;data.csv&quot;)  # no function ‚Üí no cache, requires pandas import: üëé,üëé
sample = data.head(100)  # not input into streamlit object: üëé
described_sample = sample.describe()  # input into streamlit object: ‚úÖ
st.write(described_sample)

</code></pre>
<p><strong>‚úÖ GOOD EXAMPLE</strong></p>
<pre><code class="language-python"># app.py
import streamlit as st
from helpers import load_data, describe_sample

data = load_data()  # data import: ‚úÖ
described_sample = describe_sample(data, 100)  # input into streamlit object: ‚úÖ
st.write(described_sample)

# helpers.py
import streamlit as st
import pandas as pd


@st.cache
def load_data():
    return pd.read_csv(&quot;data.csv&quot;)


@st.cache
def describe_sample(dataset, nrows):
    sample = dataset.head(nrows)
    return sample.describe()
</code></pre>
<p>Another benefit of reorganizing code in this way is that the functions in the helpers file are now easier to write tests for. Sometimes I struggle with coming up with ideas of what to test, but I‚Äôve found that now it‚Äôs really easy to come up with tests for my apps because I‚Äôm more quickly discovering bugs and edge cases now that I‚Äôm interacting more closely with the data and code. Now, any time my app displays a traceback, I fix the function that caused it and write a test to make sure the new behavior is what I expect.</p>
<h1><a class="header" href="#example-apps" id="example-apps">Example Apps</a></h1>
<h2><a class="header" href="#gists" id="gists">Gists</a></h2>
<p>The following apps are gists, which you can run directly with streamlit installed by running <code>streamlit run &lt;GIST URL&gt;</code></p>
<ul>
<li><a href="https://gist.github.com/pmbaumgartner/4558781c0dfe8a4539201eaeb575ba51/raw/7dedf6c4064af6586d2f136a35e4d2ac5814031f/format_func_with_dict.py">Displaying Clean Variable Names</a></li>
<li><a href="https://gist.github.com/pmbaumgartner/8097c08313cea57f02c54f23d4836621/raw/e5f89d6ade3aca306b38a3814ef550afa4992a80/cache_benchmarking.py">Caching and Benchmarking</a></li>
<li><a href="https://gist.github.com/pmbaumgartner/23d919cb7badd3ce4f2807af68897a75/raw/72b71923cb4db876b64fbd6283f2380d4cce1020/dynamic_widget.py">Dynamic Widgets</a></li>
<li><a href="https://gist.github.com/pmbaumgartner/e8cf0cbdf85817aa24d51c8a8e008d7d/raw/3357054a0caaa1f4bf27277c6aaab34e0d0e747d/mpl_altair_streamlit_timing.py">Altair and Matplotlib Benchmark</a></li>
</ul>
<h2><a class="header" href="#full-apps" id="full-apps">Full Apps</a></h2>
<h1><a class="header" href="#appendix" id="appendix">Appendix</a></h1>
<h2><a class="header" href="#build-process" id="build-process">Build Process</a></h2>
<p>This documentation is built using the wonderful Rust package <a href="https://github.com/rust-lang/mdBook">mdBook</a>.</p>
<p>The build process is automated using GitHub Actions to host it on GitHub Pages, with the <a href="https://github.com/marketplace/actions/github-pages-action">GitHub Pages Action</a> and the <a href="https://github.com/marketplace/actions/mdbook-action">mdBook Action</a>.</p>

                </main>

                <nav class="nav-wrapper" aria-label="Page navigation">
                    <!-- Mobile navigation buttons -->
                    

                    

                    <div style="clear: both"></div>
                </nav>
            </div>
        </div>

        <nav class="nav-wide-wrapper" aria-label="Page navigation">
            

            
        </nav>

    </div>

    

    

    

    
    <script type="text/javascript">
        window.playpen_copyable = true;
    </script>
    

    

    
    <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
    

    <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
    <script src="book.js" type="text/javascript" charset="utf-8"></script>

    <!-- Custom JS scripts -->
    

    
    
    <script type="text/javascript">
        window.addEventListener('load', function () {
            window.setTimeout(window.print, 100);
        });
    </script>
    
    

</body>

</html>